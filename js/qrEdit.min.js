var sourceToIsolate,qrcode=window.qrcode,video=document.createElement("video"),canvasElement=document.getElementById("qr-canvas"),canvas=canvasElement.getContext("2d"),qrResult=document.getElementById("qr-result"),outputData=document.getElementById("outputData"),btnScanAddSteamQR=document.getElementById("btn-scan-addSteam-qr"),btnScanRemSteamQR=document.getElementById("btn-scan-remSteam-qr"),btnScanAddWaterQR=document.getElementById("btn-scan-addWater-qr"),btnScanRemWaterQR=document.getElementById("btn-scan-remWater-qr"),btnScanAddCdaQR=document.getElementById("btn-scan-addCda-qr"),btnScanRemCdaQR=document.getElementById("btn-scan-remCda-qr"),btnScanAddElecQR=document.getElementById("btn-scan-addElec-qr"),btnScanRemElecQR=document.getElementById("btn-scan-remElec-qr"),scanning=!1;function btnScanAdd(e){var a;switch(sourceToIsolate=e,e){case"btn-scan-addSteam-qr":$("#qr-canvas").prependTo("#steamCanvasPH"),a=btnScanAddSteamQR;break;case"btn-scan-addWater-qr":$("#qr-canvas").prependTo("#waterCanvasPH"),a=btnScanAddWaterQR;break;case"btn-scan-addCda-qr":$("#qr-canvas").prependTo("#cdaCanvasPH"),a=btnScanAddCdaQR;break;case"btn-scan-addElec-qr":$("#qr-canvas").prependTo("#elecCanvasPH"),a=btnScanAddElecQR}navigator.mediaDevices.getUserMedia({video:{facingMode:"environment"}}).then((function(e){scanning=!0,qrResult.hidden=!0,a.hidden=!0,canvasElement.hidden=!1,video.setAttribute("playsinline",!0),video.srcObject=e,video.play(),tick(),scan()}))}function btnScanRemove(e){var a;switch(sourceToIsolate=e,e){case"btn-scan-remSteam-qr":$("#qr-canvas").prependTo("#steamCanvasPH"),a=btnScanRemSteamQR;break;case"btn-scan-remWater-qr":$("#qr-canvas").prependTo("#waterCanvasPH"),a=btnScanRemWaterQR;break;case"btn-scan-remCda-qr":$("#qr-canvas").prependTo("#cdaCanvasPH"),a=btnScanRemCdaQR;break;case"btn-scan-remElec-qr":$("#qr-canvas").prependTo("#elecCanvasPH"),a=btnScanRemElecQR}navigator.mediaDevices.getUserMedia({video:{facingMode:"environment"}}).then((function(e){scanning=!0,qrResult.hidden=!0,a.hidden=!0,canvasElement.hidden=!1,video.setAttribute("playsinline",!0),video.srcObject=e,video.play(),tick(),scan()}))}function tick(){canvasElement.height=video.videoHeight,canvasElement.width=video.videoWidth,canvas.drawImage(video,0,0,canvasElement.width,canvasElement.height),scanning&&requestAnimationFrame(tick)}function scan(){try{qrcode.decode()}catch(e){setTimeout(scan,300)}}qrcode.callback=e=>{if(e)switch(outputData.innerText=e,scanning=!1,video.srcObject.getTracks().forEach(e=>{e.stop()}),canvasElement.hidden=!0,sourceToIsolate){case"btn-scan-addSteam-qr":$("#steamDeviceID").val(outputData.innerText),btnScanAddSteamQR.hidden=!1,$("#hdBtnAddSteamId").click();break;case"btn-scan-remSteam-qr":$("#steamDeviceID").val(outputData.innerText),btnScanRemSteamQR.hidden=!1,$("#hdBtnRemSteamId").click();break;case"btn-scan-addWater-qr":$("#waterDeviceID").val(outputData.innerText),btnScanAddWaterQR.hidden=!1,$("#hdBtnAddWaterId").click();break;case"btn-scan-remWater-qr":$("#waterDeviceID").val(outputData.innerText),btnScanRemWaterQR.hidden=!1,$("#hdBtnRemWaterId").click();break;case"btn-scan-addCda-qr":$("#cdaDeviceID").val(outputData.innerText),btnScanAddCdaQR.hidden=!1,$("#hdBtnAddCdaId").click();break;case"btn-scan-remCda-qr":$("#cdaDeviceID").val(outputData.innerText),btnScanRemCdaQR.hidden=!1,$("#hdBtnRemCdaId").click();break;case"btn-scan-addElec-qr":$("#elecDeviceID").val(outputData.innerText),btnScanAddElecQR.hidden=!1,$("#hdBtnAddElecId").click();break;case"btn-scan-remElec-qr":$("#elecDeviceID").val(outputData.innerText),btnScanRemElecQR.hidden=!1,$("#hdBtnRemElecId").click()}};